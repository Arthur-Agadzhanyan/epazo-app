{"version":3,"sources":["components/PostCard/PostCard.js","pages/DetailPage/DetailPage.js","hooks/http.hook.js","components/HeadPage/HeadPage.js","components/styles/post.module.scss"],"names":["PostCard","post","className","HeadPage","title","description","s","mb_container","post__date","Date","date","toUTCString","img","src","imgUrl","alt","text","ReactHtmlParser","DetailPage","useState","setPost","postId","useParams","id","useHttp","request","loading","getPost","useCallback","a","fetched","useEffect","Loader","setLoading","error","setError","url","method","body","headers","JSON","stringify","fetch","res","json","data","ok","Error","message","clearError","name","content","module","exports"],"mappings":"2QAgCeA,EA3BE,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAChB,OACI,oCAEI,yBAAKC,UAAU,aACf,kBAACC,EAAA,EAAD,CAAUC,MAAOH,EAAKG,MAAOC,YAAaJ,EAAKI,cAC3C,yBAAKH,UAAS,oBAAeI,IAAEC,eAC3B,wBAAIL,UAAWI,IAAEF,OAAQH,EAAKG,OAC9B,uBAAGF,UAAWI,IAAEE,YAAY,gCAAS,IAAIC,KAAKR,EAAKS,MAAMC,iBAE7D,yBAAKT,UAAS,oBAAeI,IAAEC,eAC3B,yBAAKL,UAAU,OACX,yBAAKA,UAAS,UAAKI,IAAEM,KAAOC,IAAKZ,EAAKa,OAASC,IAAKd,EAAKG,UAKjE,yBAAKF,UAAS,oBAAeI,IAAEC,eAC3B,yBAAKL,UAAWI,IAAEU,MACbC,IAAgBhB,EAAKe,WClBjCE,EAAa,WAAO,IAAD,EACJC,mBAAS,MADL,mBACrBlB,EADqB,KACfmB,EADe,KAEtBC,EAASC,cAAYC,GAFC,EAGDC,cAApBC,EAHqB,EAGrBA,QAASC,EAHY,EAGZA,QAEVC,EAAUC,sBAAW,sBAAC,4BAAAC,EAAA,+EAEEJ,EAAQ,aAAD,OAAcJ,GAAU,MAAO,MAFxC,OAEdS,EAFc,OAGpBV,EAAQU,GAHY,uGAKzB,CAACT,EAAQI,IAMZ,OAJAM,qBAAU,WACNJ,MACF,CAACA,IAEAD,EACQ,kBAACM,EAAA,EAAD,MAIP,qCACKN,GAAWzB,GAAQ,kBAAC,EAAD,CAAUA,KAAMA,O,8GC1BnCuB,EAAU,WAAO,IAAD,EACKL,oBAAS,GADd,mBAClBO,EADkB,KACTO,EADS,OAECd,mBAAS,MAFV,mBAElBe,EAFkB,KAEXC,EAFW,KA2BzB,MAAO,CAAET,UAASD,QAxBFG,sBAAW,uCAAC,WAAOQ,GAAP,mCAAAP,EAAA,6DAAYQ,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMC,EAAzC,+BAAmD,GAC3EN,GAAW,GADa,SAIhBK,IACAA,EAAOE,KAAKC,UAAUH,GACtBC,EAAQ,gBAAkB,oBANV,SASFG,MAAMN,EAAK,CAAEC,SAAQC,OAAMC,YATzB,cASdI,EATc,iBAUDA,EAAIC,OAVH,WAUdC,EAVc,OAYfF,EAAIG,GAZW,uBAaV,IAAIC,MAAMF,EAAKG,SAAW,kGAbhB,eAepBf,GAAW,GAfS,kBAgBbY,GAhBa,wCAkBpBZ,GAAW,GACXE,EAAS,KAAEa,SAnBS,+DAAD,sDAsBzB,IAEyBd,QAAOe,WADfrB,uBAAY,kBAAMO,EAAS,QAAO,O,gCC5BzD,4BAYehC,IATE,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,MAAMC,EAAiB,EAAjBA,YACrB,OACI,kBAAC,IAAD,KACI,+BAAQD,EAAR,YACA,0BAAM8C,KAAK,cAAcC,QAAO,UAAK9C,Q,mBCNjD+C,EAAOC,QAAU,CAAC,KAAO,mBAAmB,kBAAkB,8BAA8B,MAAQ,oBAAoB,WAAa,yBAAyB,IAAM,kBAAkB,aAAe,6B","file":"static/js/10.66f7189b.chunk.js","sourcesContent":["import React from 'react'\r\nimport s from '../styles/post.module.scss'\r\nimport ReactHtmlParser from 'react-html-parser'\r\nimport HeadPage from '../HeadPage/HeadPage'\r\n\r\nconst PostCard = ({ post }) => {\r\n    return (\r\n        <>\r\n\r\n            <div className=\"container\">\r\n            <HeadPage title={post.title} description={post.description}/>\r\n                <div className={`container ${s.mb_container}`}>\r\n                    <h2 className={s.title}>{post.title}</h2>\r\n                    <p className={s.post__date}><strong>{new Date(post.date).toUTCString()}</strong></p>\r\n                </div>\r\n                <div className={`container ${s.mb_container}`}>\r\n                    <div className='row'>\r\n                        <img className={`${s.img}`} src={post.imgUrl}  alt={post.title}/>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className={`container ${s.mb_container}`}>\r\n                    <div className={s.text}>\r\n                        {ReactHtmlParser(post.text)}\r\n                    </div></div>\r\n\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PostCard;\r\n\r\n","import React, { useState, useCallback, useEffect} from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useHttp } from '../../hooks/http.hook';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport PostCard from '../../components/PostCard/PostCard';\r\n\r\nexport const DetailPage = () => {\r\n    const [post, setPost] = useState(null);\r\n    const postId = useParams().id\r\n    const {request, loading} = useHttp()\r\n\r\n    const getPost = useCallback(async () => {\r\n        try {\r\n            const fetched = await request(`/api/post/${postId}`, 'GET', null)\r\n            setPost(fetched)\r\n        } catch{ }\r\n    }, [postId, request])\r\n\r\n    useEffect(()=>{\r\n        getPost()\r\n    },[getPost])\r\n\r\n    if(loading){\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n           {!loading && post && <PostCard post={post} />} \r\n           \r\n        </>\r\n    );\r\n}\r\n\r\n\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            \r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers['Content-Type'] = 'application/json'\r\n            }\r\n\r\n            const res = await fetch(url, { method, body, headers })\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.message || 'Что-то пошло не так')\r\n            }\r\n            setLoading(false)\r\n            return data\r\n        } catch (e) {\r\n            setLoading(false)\r\n            setError(e.message)\r\n            throw e\r\n        }\r\n    },[])\r\n    const clearError = useCallback(() => setError(null), [])\r\n    return { loading, request, error, clearError }\r\n}\r\n\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst HeadPage = ({title,description}) => {\r\n    return (\r\n        <Helmet>\r\n            <title>{title} | Epazo</title>\r\n            <meta name='description' content={`${description}`}/>       \r\n        </Helmet>\r\n    );\r\n}\r\n\r\nexport default HeadPage;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"post_text__1VYUo\",\"browser-default\":\"post_browser-default__21ObP\",\"title\":\"post_title__i0-vB\",\"post__date\":\"post_post__date__1F2iE\",\"img\":\"post_img__2kYK0\",\"mb_container\":\"post_mb_container__3a2r9\"};"],"sourceRoot":""}